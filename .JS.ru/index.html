<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>

  <body>
    <button onclick="vote()" id="button">Голосовать!</button>

    <script>
      const xhr = new XMLHttpRequest();
      xhr.open("GET", "hello_user", true);
      xhr.send();
      xhr.onload = function(data) {
        alert(data);
      };
    </script>

    <!--
      <script>
        function vote() {
          button.innerHTML = ' ... ';

          var xhr = new XMLHttpRequest();

          xhr.open('GET', 'vote', true);

          xhr.onreadystatechange = function() {
            if (xhr.readyState != 4) return;

            if (xhr.status != 200) {
              // обработать ошибку
              alert('Ошибка ' + xhr.status + ': ' + xhr.statusText);
              return;
            }

            // обработать результат
            button.innerHTML = xhr.responseText;
          }

          xhr.send(null);

        }
      </script>
    -->
  </body>
</html>
