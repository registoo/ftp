<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/javascript" src="testR.js"></script>
    <button class="newButton" onclick="goFunc()"></button>

    <script>
      function goFunc() {
        let i = 0;
        const but = document.getElementsByClassName("newButton")[0];
        but.innerHTML = i;
        const f = () => {
          i = i + 1;
          but.innerHTML = i;
        };
        const timerID = setInterval(f, 1000);

        const xhr = new XMLHttpRequest();
        xhr.open("GET", "hello_user", true);
        xhr.send();
        xhr.onload = function(ProgressEvent) {
          clearInterval(timerID);
          document.getElementsByClassName("newButton")[0].innerHTML = "";
          alert(xhr.response);
        };
      }
    </script>
  </body>
</html>
